<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>schema</title>
  </head>
  <body>
    <div id="root"></div>
    <link rel="stylesheet" href="base.css">
    <script type="text/javascript" src="../dist/schema.js"></script>

    <script type="text/javascript">

      const Schem = {
        data: { title: 'this is a nav' },
        template: [ '#whole',
          ['#mainBlock', '$name'],
          ['i', '$message'],
          ['div', '>']
        ],
        styles: [
          ['', 'background-color #ddd'],
          ['#whole',
            ['!onclick',
              'background-color rgba(0,0,0,0.7)',
              'color white'
            ]
          ]
        ],
        onChange: (self) => {
          self.setData({ name: self.data.name + ' yo man' })
        },
        init: (self) => {
          self.setData({message: 'loaded!'})
        }
      };

      const Component = {
        data:{
          intro: 'intro heyy',
          list: [{name:'tom', hobby:'trekking'},{name:'sam', hobby:'biking'}]
        },
        template: [ 'div',
          [Schem, {name: 'james'}, '#topNav', ['span', 'top nav']],
          ['section', '#intro', '? $intro', '!onclick: clicked',
              '>',
              ['h1', '$intro'],
              ['p', '.text', 'paragraph this is'],
              ['a', 'href: www.google.com', 'link to google'],
              ['ul', '% $item in $list',
                ['li',
                  ['h3', '$item.name'],
                  ['a', '$item.hobby']
                ]
              ],
              ['button', '#toggle', 'Toggle']
          ],
          [Schem, {name: 'tom'}, '#bottomNav', ['span', 'bottom naavvv']]
        ],
        styles: [
          ['#topNav', 'color orange'],
          ['#intro', 'color green', 'padding 10px'],
          ['#toggle',
            ['!onclick', '@toggle']
          ],
          ['#bottomNav', 'color #aedb33', 'font-size 2em',
            ['@toggle', 'font-size 1em', 'color #333', 'background-color #f1f1f1']
          ]
        ],
        clicked: (self,e) => {
          self.setData({intro: 'clicked'});
          self.setStyles([['#intro', 'color brown']])
          self.heylo();
        },
        heylo: () => {
          console.log('mannnnn!!');
        }
      }

      Schema.engine(Component,document.getElementById('root'));
    </script>
  </body>
</html>
